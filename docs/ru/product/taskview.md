---
title: Представление задач
createTime: 2025/11/21 13:22:20
permalink: /ru/product/xd0jsjvg/
---

Представления задач позволяют настраивать запросы задач без фактического хранения данных задач. Они делятся на автоматические представления и ручные представления. Автоматические представления имеют логику поиска задач и автоматически ищут в списке задач, в то время как ручные представления требуют ручного назначения задач, аналогично функции `тега`.

## Свойства представления задач

- Название
- Значок. Значок для ручных представлений задач будет отображаться на задачах, назначенных этому представлению. Значок по умолчанию для ручных представлений - значок тега, а значок по умолчанию для автоматических представлений - значок робота
- Описание
- Тип
  - Автоматическое
  - Ручное
- Логика автоматического представления
  - Скрипт
  - Настройка логики с помощью GUI

## Операции с представлениями задач

### Создать представление задач

![taskview](/steps/taskview/create.png)

#### Создать предустановленное представление задач

Как показано в выпадающем меню выше, есть предустановленные представления задач:

- `Сегодня` - Просмотр задач, где `startAt` или `endAt` включает сегодня
- `Завтра` - Просмотр задач, где `startAt` или `endAt` включает завтра
- `Послезавтра` - Просмотр задач, где `startAt` или `endAt` включает послезавтра
- `На этой неделе` - Просмотр задач, где `startAt` или `endAt` включает эту неделю
- `В этом месяце` - Просмотр задач, где `startAt` или `endAt` включает этот месяц

### Редактировать представление задач

![taskview](/steps/taskview/edit.png)

### Удалить представление задач

![taskview](/steps/taskview/delete.png)

## Настройка логики GUI автоматического представления задач

![taskview](/steps/taskview/gui.png)

Вы можете создать логику запроса представления задач графическим способом:

- Условие - Одна точка логической оценки
- Логическая группа - Комбинация условий, можно установить на логику И/ИЛИ

В основном, настройка логики представления GUI - это настройка логической группы с последующим рекурсивным вложением.

Например, логика для `Сегодня`:

- `Время начала` `больше или равно` `сегодня в 0:00` И `Время начала` `меньше или равно` `сегодня в 24:00`
- ИЛИ
- `Время начала` `меньше или равно` `сегодня в 0:00` И `Время окончания` `больше или равно` `сегодня в 0:00`

## Настройка логики скрипта автоматического представления задач

![taskview](/steps/taskview/script.png)

Вы можете использовать скрипты для создания сложной логики запроса представления задач, такой как `На этой неделе` и `В этом месяце`.

По сути, скрипт должен быть функцией `javascript` `(t: Task) => boolean`. См. пример `В этом месяце`:

```javascript
t => {
  if(t.startAt || t.endAt){
    const monthBetween = [dayjs().startOf('month'), dayjs().endOf('month')]
    if(!(t.startAt && t.endAt)){
      const d = t.startAt || t.endAt
      if(dayjs(d).isBetween(...monthBetween)){
        return true
      }
    }else{
      // both startAt endAt
      return dayjs(t.endAt).isBetween(...monthBetween)
    }
  }
  return false
}
```

Тип параметра `Task` следующий, вы также можете обратиться к [task](./task#task-properties):

```typescript
interface Task {
  id: string;
  sortOrder: number;
  description: string | null;
  createdAt: string;
  updatedAt: string;
  content: string;
  groupId: string;
  doneAt: string | null;
  startAt: string | null;
  endAt: string | null;
  state: "DONE" | "UNDONE" | null;
  priority: number;
  factor: number;
  parentId: string | null;
  createIndex: number;
  createdByTaskId: string | null;
  target: string | null;
  targetType: "DEFAULT" | "INCREMENT" | null;
};
```

Для обработки времени вы можете использовать dayjs. См. [Dayjs Documentation](https://day.js.org/docs/en/installation/installation)
